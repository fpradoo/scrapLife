/*
Name: widgets.iframe.js
URL: http://qsf.is.quoracdn.net/-b8ac8530c69cce5e.js
Generated: 1432189958943262
Files: /widgets.iframe.js
*/
require.whenReady("settings",function(){/quora\.com$/i.test(location.host)?document.domain="quora.com":document.domain=document.domain,!function(){!function(a,b){typeof define=="function"?define(b):typeof module!="undefined"?module.exports=b():this[a]=this.domReady=b()}("domready",function(a){function b(a){l=1;while(a=c.shift())a()}var c=[],d,e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l=/^loade|c/.test(f.readyState);return f[j]&&f[j](i,d=function(){f.removeEventListener(i,d,e),b()},e),h&&f.attachEvent(k,d=function(){/^c/.test(f.readyState)&&(f.detachEvent(k,d),b())}),a=h?function(b){self!=top?l?b():c.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){l?a():c.push(a)}}),domready(function(){function c(b){b.preventDefault?b.preventDefault():b.returnValue=!1,j("follow_button");var c=a.$("logged_in");c?d():e()}function d(){function g(a){return a.responseText.length===0}function h(a){return a.responseText==="__same__"}var c=a.$("follow"),d=a.$("same_user");d||l();var e="/widgets/follow_POST",f=["name=",encodeURIComponent(b.name),"&formkey=",encodeURIComponent(b.formkey),"&source_url=",encodeURIComponent(b.sourceUrl),"&embed_code=",encodeURIComponent(b.embedCode)].join("");a.ajax(e,f,function(a){g(a)?l():h(a)?m():k()})}function e(){var a=380,c=250,d=screen.width/2-a/2,e=screen.height/2-c/2;window.open("/widgets/login_and_follow?name="+b.name+"&source_url="+encodeURIComponent(b.sourceUrl),"Login to Quora","width="+a+", height="+c+", left="+d+", top="+e)}function f(a){j("on_quora")}function g(a){j("profile_link")}function h(a){j("following_button")}function j(c){if(i[c])return;i[c]=!0;var d="/widgets/follow_click_log_POST",e=["name=",encodeURIComponent(b.name),"&formkey=",encodeURIComponent(b.formkey),"&source_url=",encodeURIComponent(b.sourceUrl),"&embed_code=",encodeURIComponent(b.embedCode)].join("")+"&clicked_at="+c;a.ajax(d,e)}function k(){var b=a.$("follow"),c=a.$("following"),d=a.$("login_link");b.className="button follow hidden",d.className="label",c.className="button following hidden"}function l(){var b=a.$("follow"),c=a.$("following");b.className="button follow hidden",c.className="button following"}function m(){var b=a.$("follow"),c=a.$("following");b.className="button follow",c.className="button following hidden"}var a={$:function(a){return document.getElementById(a)},bindClick:function(a,b){document.addEventListener?a.addEventListener("click",b):a.attachEvent("onclick",b)},ajax:function(a,b,c){function e(){var a=!1;for(var b=0;b<d.length;b++){try{a=d[b]()}catch(c){continue}break}return a}var d=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],f=e();if(!f)return;var g=b?"POST":"GET";f.open(g,a,!0),b&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.onreadystatechange=function(){if(f.readyState!=4)return;if(f.status!=200&&f.status!=304)return;c&&c(f)};if(f.readyState==4)return;f.send(b)}},b={name:a.$("name").value,formkey:a.$("formkey").value,sourceUrl:a.$("source_url").value,embedCode:a.$("embed_code").value},i={};window.showFollowingButton=l;var n=a.$("follow");a.bindClick(n,c);var o=a.$("on_quora");a.bindClick(o,f);var p=a.$("profile_link");a.bindClick(p,g);var q=a.$("following");a.bindClick(q,h)})}()});